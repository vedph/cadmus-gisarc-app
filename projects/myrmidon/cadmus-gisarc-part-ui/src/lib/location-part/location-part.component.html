<form [formGroup]="form" (submit)="save()">
  <mat-card>
    <mat-card-header>
      <div mat-card-avatar>
        <mat-icon>picture_in_picture</mat-icon>
      </div>
      <mat-card-title>Location Part</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="form-row">
        <!-- latitude -->
        <mat-form-field>
          <mat-label>latitude</mat-label>
          <input matInput [formControl]="latitude" />
          <mat-error
            *ngIf="
              $any(latitude).errors?.required &&
              (latitude.dirty || latitude.touched)
            "
            >latitude required</mat-error
          >
        </mat-form-field>

        <!-- longitude -->
        <mat-form-field>
          <mat-label>longitude</mat-label>
          <input matInput [formControl]="longitude" />
          <mat-error
            *ngIf="
              $any(longitude).errors?.required &&
              (longitude.dirty || longitude.touched)
            "
            >longitude required</mat-error
          >
        </mat-form-field>
      </div>

      <div class="form-row">
        <!-- hasAltitude -->
        <mat-checkbox [formControl]="hasAltitude">has altitude</mat-checkbox>

        <!-- altitude -->
        <mat-form-field *ngIf="hasAltitude.value">
          <mat-label>altitude</mat-label>
          <input matInput [formControl]="altitude" />
          <mat-error
            *ngIf="
              $any(altitude).errors?.required &&
              (altitude.dirty || altitude.touched)
            "
            >altitude required</mat-error
          >
        </mat-form-field>
      </div>

      <!-- geometries -->
      <div>
        <mat-form-field>
          <mat-label>geometries</mat-label>
          <textarea
            [formControl]="geometries"
            matInput
            cdkTextareaAutosize
            cdkAutosizeMinRows="2"
            cdkAutosizeMaxRows="10"
          >
          </textarea>
          <mat-hint>each geometry on a line</mat-hint>
        </mat-form-field>
      </div>
    </mat-card-content>
    <mat-card-actions>
      <cadmus-close-save-buttons
        [form]="form"
        [noSave]="userLevel < 2"
        (closeRequest)="close()"
      ></cadmus-close-save-buttons>
    </mat-card-actions>
  </mat-card>
</form>
